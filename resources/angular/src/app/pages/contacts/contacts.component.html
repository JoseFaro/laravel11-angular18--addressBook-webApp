<div class="appContacts">
  <div class="container">
    <div class="d-flex justify-content-between mb-4">
      <div>
        <h3>CONTACTOS</h3>
      </div>

      <div class="d-flex">
        <form class="me-3" role="search">
          <input
            class="form-control me-2"
            type="text"
            placeholder="Filtrar"
            aria-label="Filtrar"
            (input)="handleOnFilterChange($event)"
          />
        </form>

        <app-button
          [label]="'Nuevo'"
          [variant]="'primary'"
          (onClick)="createContact()"
        ></app-button>
      </div>
    </div>

    <table class="table table-striped">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Nombre</th>
          <th scope="col">Cumpleaños</th>
          <th scope="col">Empresa</th>
          <th scope="col">Pagina web</th>
          <th scope="col">Teléfono</th>
          <th scope="col">Correo</th>
          <th scope="col">Dirección</th>
          <th scope="col"></th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let contact of filteredContacts; let i = index">
          <th scope="row">{{ contact.id }}</th>
          <td>{{ contact.name }}</td>
          <td>{{ contact.dateOfBirth }}</td>
          <td>{{ contact.company }}</td>
          <td>{{ contact.website }}</td>

          <td>
            {{
              contact.default_phone.length ? contact.default_phone[0].phone : ""
            }}
          </td>
          <td>
            {{
              contact.default_email.length ? contact.default_email[0].email : ""
            }}
          </td>
          <td>
            {{
              contact.default_address.length
                ? contact.default_address[0].address
                : ""
            }}
          </td>

          <td>
            <div class="actionsContainer">
              <app-button
                [label]="'Ver'"
                [variant]="'info'"
                [fullWidth]="true"
                [size]="'sm'"
                [extraClasses]="'mb-2'"
                (onClick)="viewContact(contact.id)"
              ></app-button>

              <app-button
                [label]="'Editar'"
                [fullWidth]="true"
                [size]="'sm'"
                [extraClasses]="'mb-2'"
                (onClick)="editContact(contact.id)"
              ></app-button>

              <app-button
                [label]="'Eliminar'"
                [variant]="'warning'"
                [fullWidth]="true"
                [size]="'sm'"
                (onClick)="deleteContact(contact.id)"
              ></app-button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
